(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],f=0,g=[];f<r.length;f++)o=r[f],n[o]&&g.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(g.length)g.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],a=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"1e79":function(t,e,i){"use strict";var a=i("3b76"),n=i.n(a);n.a},3536:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".icon[data-v-170dd8dc]{width:32px;height:32px}.small-icon[data-v-170dd8dc]{width:20px;height:20px}.icon.icon-blue[data-v-170dd8dc]{fill:#1976d2}.fade-enter-active[data-v-170dd8dc],.fade-leave-active[data-v-170dd8dc]{transition:all .1s}.fade-enter[data-v-170dd8dc],.fade-leave-to[data-v-170dd8dc]{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:center;transform-origin:center}.slide-left-enter-active[data-v-170dd8dc],.slide-left-leave-active[data-v-170dd8dc]{transition:all .2s}.slide-left-enter[data-v-170dd8dc],.slide-left-leave-to[data-v-170dd8dc]{-webkit-transform:translateX(200px);transform:translateX(200px);opacity:0}.slide-right-enter-active[data-v-170dd8dc],.slide-right-leave-active[data-v-170dd8dc]{transition:all .2s}.slide-right-enter[data-v-170dd8dc],.slide-right-leave-to[data-v-170dd8dc]{-webkit-transform:translateX(-200px);transform:translateX(-200px);opacity:0}.list-item[data-v-170dd8dc]{width:100%;display:inline-block;margin:10px}.list-item .item-title[data-v-170dd8dc]{font-size:20px;overflow-wrap:break-word}.list-item[data-v-170dd8dc]:hover{text-decoration:none}.list-move[data-v-170dd8dc]{transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.list-enter-active[data-v-170dd8dc],.list-leave-active[data-v-170dd8dc]{transition:all .2s}.list-enter[data-v-170dd8dc],.list-leave-to[data-v-170dd8dc]{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}.xs-btn[data-v-170dd8dc]{width:35px;height:35px}.small-btn[data-v-170dd8dc]{width:40px;height:40px}.item-title-container[data-v-170dd8dc]{display:block!important;font-size:24px;text-align:center}.vc-sketch[data-v-170dd8dc]{width:100%}.move-btn[data-v-170dd8dc]{padding:0;min-width:0}.loading-overlay[data-v-170dd8dc]{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.18);z-index:15}.icon[data-v-170dd8dc]{width:25px;height:25px;fill:#fff}.large-icon[data-v-170dd8dc]{width:70px;height:70px}.loading-icon[data-v-170dd8dc]{fill:rgba(0,0,0,.61);margin-right:8px;-webkit-animation:spin 1s ease-in-out infinite;animation:spin 1s ease-in-out infinite}#loading-title[data-v-170dd8dc]{text-transform:uppercase;font-family:Roboto,sans-serif;display:inline-block;margin:0!important}",""])},"3b18":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".v-btn .subheading[data-v-8a6214b0]{text-transform:none!important;display:-ms-flexbox;display:flex}.v-btn:disabled .subheading[data-v-8a6214b0]{color:rgba(0,0,0,.38)}.v-btn:disabled svg[data-v-8a6214b0]{opacity:.37}.checkbox-icon[data-v-8a6214b0]{padding:0;background-color:transparent;width:25px;height:25px;fill:#1976d2}.radio-button[data-v-8a6214b0]:before{background-color:transparent!important;opacity:1}.hidden[data-v-8a6214b0]{display:none}",""])},"3b76":function(t,e,i){var a=i("4162");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("4b2df481",a,!0,{sourceMap:!1,shadowMode:!1})},4162:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"#app input[type=text],#app select{border:none!important;background-color:transparent!important;border-style:none!important}#app h3{margin:40px 0 0}#app ul{list-style-type:none;padding:0}#app li{display:inline-block;margin:0 10px}#app a{color:#42b983}.icon{width:32px;height:32px;fill:#fff}.small-icon{width:18px;height:18px}.select .v-menu{top:56px;position:absolute;left:0}.select .v-menu__content{position:relative;z-index:10;left:0!important;top:0!important}svg.dropdown{position:absolute;right:3px;top:5px;width:32px;height:56px}svg.dropdown.inactive{transition:all .2s}svg.dropdown.active{-webkit-transform:rotate(180deg);transform:rotate(180deg);transition:all .2s;fill:#2196f3!important}.v-messages__message{border-left:4px solid rgba(25,118,210,.5);background-color:rgba(25,118,210,.1);padding:15px}.v-messages__message:hover{color:#000}.v-text-field.v-text-field--enclosed .v-text-field__details{padding-left:0!important}.v-input--selection-controls .v-input__control{width:100%!important;padding-right:15px}.slide-down-enter-active,.slide-down-leave-active{max-height:500px;transition:all .3s ease-out}.slide-down-enter,.slide-down-leave-to{max-height:0;opacity:0}.loading-icon{fill:rgba(0,0,0,.61);margin-right:8px;-webkit-animation:spin 1s ease-in-out infinite;animation:spin 1s ease-in-out infinite}@-webkit-keyframes spin{to{-webkit-transform:rotate(-1turn)}}@keyframes spin{to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}",""])},"44bb":function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}})])}}},"56d7":function(t,e,i){"use strict";i.r(e);i("db4d");var a=i("2b0e"),n=i("ce5b"),s=i.n(n),o=(i("bf40"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sp-metrics"},[i("v-app",[i("v-layout",[i("v-flex",[t.isEditing?i("Config",{attrs:{"init-config":t.config,"field-map":t.initFieldMap,"is-loading":t.state_map.loading.isLoading,"site-url":t.siteUrl,"config-list-name":t.configListName,"web-part-id":t.webPartId,"is-in-web-part":t.isInWebPart},on:{"config-saved":t.getData}}):t._e(),t.state_map.loading.isLoading&&!t.isEditing?i("v-card",{staticClass:"pa-5"},[i("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[i("LoadingIcon",{staticClass:"large-icon loading-icon"}),i("h1",{staticClass:"font-weight-thin",attrs:{id:"loading-title"}},[t._v("Loading")])],1)],1):t._e(),!t.isEditing&&!t.state_map.loading.isLoading&&t.config.metrics.length>0?i("EditableBlockList",{attrs:{config:t.config,"field-map":t.initFieldMap,readonly:"","column-width":t.config.minColumnWidth,initialItems:t.config.metrics,"web-part-id":t.webPartId,"is-in-web-part":t.isInWebPart}}):t._e(),t.state_map.loading.isLoading||t.isEditing||0!=t.config.metrics.length?t._e():i("v-card",{staticClass:"pa-5"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",[i("h1",{staticClass:"font-weight-thin",attrs:{id:"loading-title"}},[t._v("No Data")])])],1)],1)],1)],1)],1)],1)}),r=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{raised:""}},[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("Metrics Configuration")]),i("v-spacer",{style:{"text-align":"right"}},[t.isInWebPart?i("v-chip",{attrs:{label:"",color:"grey","text-color":"white"}},[t._v(t._s(t.webPartId))]):i("v-chip",{attrs:{label:""}},[t._v("No Web Part Detected")]),t.isConfigDataLoaded&&!t.isLoading?i("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[t._v("Config Data Loaded")]):t._e(),t.isConfigDataLoaded||t.isLoading?t._e():i("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[t._v("No Config Data")]),t.isLoading?i("v-chip",{attrs:{label:"",color:"primary","text-color":"white"}},[t.isLoading?i("LoadingIcon",{staticClass:"small-icon loading-icon"}):t._e(),i("v-spacer"),t._v("Loading\n      ")],1):t._e()],1)],1),i("v-container",{attrs:{"grid-list-md":"",fluid:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{attrs:{label:"List Name",box:"",color:"blue",hint:"The list where data will be pulled in order to generate metrics. This should be the display name of the list, not the internal name.","persistent-hint":"",disabled:t.isSaving||t.isLoading},model:{value:t.config.listName,callback:function(e){t.$set(t.config,"listName",e)},expression:"config.listName"}})],1),i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{attrs:{label:"Site Relative URL",box:"",color:"blue",hint:"URL of the site where the list is stored","persistent-hint":"",disabled:t.isSaving||t.isLoading},model:{value:t.config.siteUrl,callback:function(e){t.$set(t.config,"siteUrl",e)},expression:"config.siteUrl"}})],1),i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{attrs:{label:"Field Name",box:"",color:"blue",hint:"The field name which will be used to generate metrics on. This should be the internal name of the field, not display name.","persistent-hint":"",disabled:t.isSaving||t.isLoading},model:{value:t.config.fieldName,callback:function(e){t.$set(t.config,"fieldName",e)},expression:"config.fieldName"}})],1),i("v-flex",{style:{position:"relative"},attrs:{xs6:""}},[i("v-select",{staticClass:"select",style:{position:"absolute",top:"0px"},attrs:{items:t.columnWidthItems,box:"",color:"blue",label:"Column Width",attach:"#column-width","append-icon":"",hint:t.columnWidthHint,"persistent-hint":"",ripple:!1,disabled:t.isSaving||t.isLoading},on:{focus:function(e){t.isColumnWidthSelected=!0},blur:function(e){t.isColumnWidthSelected=!1}},model:{value:t.config.minColumnWidth,callback:function(e){t.$set(t.config,"minColumnWidth",e)},expression:"config.minColumnWidth"}}),i("dropdownIcon",{staticClass:"dropdown",class:{active:t.isColumnWidthSelected,inactive:!t.isColumnWidthSelected}})],1),i("v-flex",{attrs:{xs6:""}},[i("v-radio-group",{attrs:{row:"",disabled:t.isSaving||t.isLoading,color:"#f00",label:"Enable Filter Navigation",hint:"Clicking on metric's totals will navigate to the list filtered by the value clicked on.","persistent-hint":""},model:{value:t.config.hasFiltering,callback:function(e){t.$set(t.config,"hasFiltering",e)},expression:"config.hasFiltering"}},[i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:1==t.config.hasFiltering},on:{"toggle-checked":function(e){t.config.hasFiltering=!0}}},[t._v("Yes")]),i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:0==t.config.hasFiltering},on:{"toggle-checked":function(e){t.config.hasFiltering=!1}}},[t._v("No")])],1),i("transition",{attrs:{name:"slide-down"}},[t.config.hasFiltering?i("v-card",{staticClass:"mr-3",attrs:{color:"#f9f9f9",flat:""}},[i("v-card-text",[i("v-text-field",{attrs:{label:"Filter View Name",box:"",color:"blue",hint:"The list view for the filter to be applied to","persistent-hint":"",disabled:t.isSaving||t.isLoading},model:{value:t.config.filterViewName,callback:function(e){t.$set(t.config,"filterViewName",e)},expression:"config.filterViewName"}}),i("v-radio-group",{attrs:{row:"",disabled:t.isSaving||t.isLoading,color:"#f00",label:"Open In New Window",hint:"Metrics clicked on will open in a new window.  Else the current page will refresh with applied metric filters.","persistent-hint":""},model:{value:t.config.openInNewWindow,callback:function(e){t.$set(t.config,"openInNewWindow",e)},expression:"config.openInNewWindow"}},[i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:1==t.config.openInNewWindow},on:{"toggle-checked":function(e){t.config.openInNewWindow=!0}}},[t._v("Yes")]),i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:0==t.config.openInNewWindow},on:{"toggle-checked":function(e){t.config.openInNewWindow=!1}}},[t._v("No")])],1)],1)],1):t._e()],1)],1),i("v-flex",{attrs:{xs6:""}},[i("v-radio-group",{attrs:{row:"",disabled:t.isSaving||t.isLoading,color:"#f00",label:"Enable Filter Detection",hint:"Metrics will be filtered based on query string filters being applied to the page.","persistent-hint":""},model:{value:t.config.hasFilterDetection,callback:function(e){t.$set(t.config,"hasFilterDetection",e)},expression:"config.hasFilterDetection"}},[i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:1==t.config.hasFilterDetection},on:{"toggle-checked":function(e){t.config.hasFilterDetection=!0}}},[t._v("Yes")]),i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:0==t.config.hasFilterDetection},on:{"toggle-checked":function(e){t.config.hasFilterDetection=!1}}},[t._v("No")])],1)],1),i("v-flex",{attrs:{xs12:""}},[i("v-radio-group",{attrs:{row:"",disabled:t.isSaving||t.isLoading,color:"#f00",label:"Document Library",hint:"Determines if list is a document library or not. This will help determine the types of queries and filters to apply on web service calls.","persistent-hint":""},model:{value:t.config.isDocumentLibrary,callback:function(e){t.$set(t.config,"isDocumentLibrary",e)},expression:"config.isDocumentLibrary"}},[i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:1==t.config.isDocumentLibrary},on:{"toggle-checked":function(e){t.config.isDocumentLibrary=!0}}},[t._v("Yes")]),i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:0==t.config.isDocumentLibrary},on:{"toggle-checked":function(e){t.config.isDocumentLibrary=!1}}},[t._v("No")])],1),i("transition",{attrs:{name:"slide-down"}},[t.config.isDocumentLibrary?i("v-card",{staticClass:"mr-3",attrs:{color:"#f9f9f9",flat:""}},[i("v-card-text",[i("v-radio-group",{attrs:{row:"",disabled:t.isSaving||t.isLoading,color:"#f00",label:"Document Type",hint:"Determines if list is a document library or not.  This will help determine the types of queries and filters to apply on web service calls.","persistent-hint":""},model:{value:t.config.fileObjectType,callback:function(e){t.$set(t.config,"fileObjectType",e)},expression:"config.fileObjectType"}},[i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:"0"==t.config.fileObjectType},on:{"toggle-checked":function(e){t.config.fileObjectType="0"}}},[t._v("File")]),i("Radio",{attrs:{disabled:t.isSaving||t.isLoading,isChecked:"1"==t.config.fileObjectType},on:{"toggle-checked":function(e){t.config.fileObjectType="1"}}},[t._v("Folder")])],1)],1)],1):t._e()],1)],1),i("v-flex",{attrs:{xs12:""}},[i("div",{staticClass:"v-input v-input--selection-controls v-input--radio-group v-input--radio-group--row theme--light"},[i("div",{staticClass:"v-input__control"},[i("div",{staticClass:"v-input__slot",staticStyle:{height:"auto"}},[i("label",{staticClass:"v-label theme--light",staticStyle:{left:"0px",position:"relative"},attrs:{"aria-hidden":"true"}},[t._v("Order/Color")])]),i("div",{staticClass:"v-messages theme--light"},[i("div",{staticClass:"v-messages__wrapper"},[i("div",{staticClass:"v-messages__message"},[t._v("\n                  Order and color of the metrics displayed. Click on\n                  "),i("AppsIcon",{staticClass:"small-icon"}),t._v("then\n                  "),i("EditIcon",{staticClass:"small-icon"}),t._v("to edit the background color, font color, and visibility. You can also change the visibility by clicking on\n                  "),i("AppsIcon",{staticClass:"small-icon"}),t._v("then clicking on\n                  "),i("VisibilityIcon",{staticClass:"small-icon"}),t._v("or\n                  "),i("VisibilityOffIcon",{staticClass:"small-icon"}),t._v(".\n                  To delete a metric from being displayed, click on the\n                  "),i("AppsIcon",{staticClass:"small-icon"}),t._v("then\n                  "),i("DeleteIcon",{staticClass:"small-icon"}),t._v(". To chnage the order, click on the\n                  "),i("LeftArrowIcon",{staticClass:"small-icon"}),t._v("or\n                  "),i("RightArrowIcon",{staticClass:"small-icon"}),t._v("inside each metric. Click\n                  "),i("kbd",[t._v("Add")]),t._v(" to add a new metric.\n                ")],1)])])])]),i("EditableBlockList",{attrs:{config:t.config,"field-map":t.fieldMap,transition:!1,"column-width":t.config.minColumnWidth,disabled:t.isLoading||t.isSaving,"initial-items":t.initConfig.metrics,"is-loading":t.isLoading||t.isSaving},on:{update:t.updateMetrics}})],1)],1)],1),i("v-card-actions",[i("v-container",{attrs:{"grid-list-md":"",fluid:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("v-btn",{attrs:{flat:"",outline:"",color:"blue",loading:t.isSaving,disabled:t.isSaving||0==t.config.listName.length,light:"",large:"",ripple:!1},on:{click:t.save}},[i("span",{attrs:{slot:"loader"},slot:"loader"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",[t.isSaving?i("LoadingIcon",{staticClass:"small-icon loading-icon"}):t._e()],1),i("v-flex",[t._v("Save")])],1)],1),t._v("Save\n          ")])],1),i("v-flex",{attrs:{xs12:""}},[i("transition",{attrs:{name:"slide-down"}},[t.hasError?i("v-alert",{staticClass:"text-xs-left",attrs:{value:!0,color:"error"}},[i("v-subheader",{staticClass:"text-xs-left font-weight-bold",style:{color:"rgba(255,255,255,0.8)"}},[i("span",{staticClass:"pr-2"},[i("ErrorIcon",{staticClass:"icon"})],1),t._v("\n                "+t._s(t.error.message)+"\n              ")]),i("v-subheader",{staticClass:"text-xs-left"},[t._v(t._s(t.error.stack))])],1):t._e()],1)],1)],1)],1)],1)],1)},c=[],d=i("e9f7"),f=i.n(d),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{staticClass:"radio-button",attrs:{flat:"",disabled:t.disabled,ripple:!1},on:{click:t.toggleChecked}},[i("radioButtonChecked",{staticClass:"checkbox-icon",class:{hidden:0==t.checked}}),i("radioButtonUnchecked",{staticClass:"checkbox-icon",class:{hidden:1==t.checked}}),i("span",{staticClass:"font-weight-thin subheading"},[t._t("default",[t._v(t._s(t.label))],{default:""})],2)],1)},h=[],p=i("f1e7"),u=i.n(p),m=i("6025"),v=i.n(m),b={components:{radioButtonUnchecked:u.a,radioButtonChecked:v.a},props:{disabled:{type:Boolean,default:function(){return!1}},label:{type:String,default:function(){return""}},isChecked:{type:Boolean,default:!1}},watch:{isChecked:function(t){this.checked=t}},data:function(){return{checked:!1}},methods:{toggleChecked:function(){this.checked=!0,this.$emit("toggle-checked",this.checked)}},mounted:function(){this.checked=this.isChecked}},x=b,w=(i("7ad3"),i("2877")),y=Object(w["a"])(x,g,h,!1,null,"8a6214b0",null);y.options.__file="Radio.vue";var k=y.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.readonly?t._e():i("v-btn",{attrs:{color:"green",large:"",disabled:t.disabled,light:t.disabled,dark:!t.disabled,ripple:!1},on:{click:function(e){t.addItem({})}}},[i("AddIcon",{staticClass:"icon"}),t._v("Add\n  ")],1),i("v-container",{style:{position:"relative"},attrs:{"grid-list-md":"","text-xs-center":"",box:""}},[t.isLoading?i("div",{staticClass:"loading-overlay"},[i("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":"","fill-height":""}},[i("LoadingIcon",{staticClass:"large-icon loading-icon"}),i("h1",{staticClass:"font-weight-thin",attrs:{id:"loading-title"}},[t._v("Loading")])],1)],1):t._e(),i("transition-group",{staticClass:"layout row wrap justify-center align-space-around",attrs:{name:"list",tag:"div"}},t._l(t.sortedItems,function(e){return i("v-flex",{key:e.key,class:t.classes,attrs:{shrink:""},on:{mouseover:function(t){e.isHoveringOver=!0},mouseleave:function(t){e.isHoveringOver=!1,e.fab=!1}}},[i("v-card",{staticClass:"list-item",staticStyle:{position:"relative"},style:{"background-color":t.getRgbaString(e.backgroundColor.rgba),width:"100%",height:"100%","min-height":t.readonly?"initial":"100px"},attrs:{href:t.getItemHref(e),target:t.config.openInNewWindow?"_blank":"_top"}},[i("transition",{attrs:{name:"fade"}},[e.isVisible?t._e():i("span",{staticClass:"font-weight-thin pa-2",style:{position:"absolute",top:"0",left:"0",color:"rgba(0,0,0,.65)"}},[i("VisibilityOffIcon",{staticClass:"icon",style:{fill:e.color.hex}})],1)]),i("transition",{attrs:{name:"fade"}},[!t.readonly&&e.isHoveringOver?i("v-speed-dial",{staticClass:"speed-dial",style:{top:"24px"},attrs:{top:t.top,bottom:t.bottom,right:t.right,left:t.left,direction:t.direction,absolute:"",disabled:t.disabled},model:{value:e.fab,callback:function(i){t.$set(e,"fab",i)},expression:"item.fab"}},[i("v-btn",{staticClass:"xs-btn",attrs:{slot:"activator",color:"blue darken-2",dark:"",fab:"",ripple:!1},slot:"activator",model:{value:e.fab,callback:function(i){t.$set(e,"fab",i)},expression:"item.fab"}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.fab?i("CloseIcon",{staticClass:"icon"}):i("AppsIcon",{staticClass:"icon"})],1)],1),i("v-btn",{staticClass:"small-btn",attrs:{fab:"",dark:"",color:"green",ripple:!1},nativeOn:{click:function(i){i.stopPropagation(),e.fab=!1,Object.assign(t.editingItem,e),t.dialog=!0}}},[i("EditIcon",{staticClass:"icon"})],1),i("v-btn",{staticClass:"small-btn",attrs:{fab:"",dark:"",color:"purple",ripple:!1},on:{click:function(i){t.toggleVisible(e)}}},[e.isVisible?i("VisibilityOffIcon",{staticClass:"icon"}):i("VisibilityIcon",{staticClass:"icon"})],1),i("v-btn",{staticClass:"small-btn",attrs:{fab:"",dark:"",color:"red",ripple:!1},on:{click:function(i){t.deleteItem(e)}}},[i("DeleteIcon",{staticClass:"icon"})],1)],1):t._e()],1),i("v-container",{staticClass:"pa-2",class:{"pb-4":!t.readonly},style:{position:"relative"},attrs:{"grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{column:"","align-center":"","justify-end":""}},[i("v-flex",{staticClass:"item-title",style:{"font-size":e.fontSize+"px","font-weight":t.fontWeightValues[e.fontWeight],color:t.getRgbaString(e.color.rgba)}},[t._v(t._s(e.count))]),i("v-flex",{staticClass:"item-title",style:{"font-size":e.fontSize+"px","font-weight":t.fontWeightValues[e.fontWeight],color:t.getRgbaString(e.color.rgba)}},[t._v(t._s(e.name))])],1),t.readonly?t._e():i("v-layout",{style:{position:"absolute",height:"44px",left:t.columnWidth>2?"8px":"0",right:t.columnWidth>2?"8px":"0",overflow:"hidden"},attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",class:t.buttonClasses},[i("transition",{attrs:{name:"slide-right"}},[e.sortOrder>0&&e.isHoveringOver&&!e.fab?i("v-btn",{staticClass:"move-btn",attrs:{color:"blue",block:"",ripple:!1},on:{click:function(i){t.moveLeft(e)}}},[i("LeftArrowIcon",{staticClass:"icon",class:{"small-icon":1==t.columnWidth}})],1):t._e()],1)],1),t.columnWidth>2?i("v-flex",{staticClass:"pa-0",attrs:{xs4:""}}):t._e(),i("v-flex",{staticClass:"pa-0",class:t.buttonClasses},[i("transition",{attrs:{name:"slide-left"}},[e.sortOrder<t.items.length-1&&e.isHoveringOver&&!e.fab?i("v-btn",{staticClass:"move-btn",attrs:{color:"blue",block:"",ripple:!1},on:{click:function(i){t.moveRight(e)}}},[i("RightArrowIcon",{staticClass:"icon",class:{"small-icon":1==t.columnWidth}})],1):t._e()],1)],1)],1)],1)],1)],1)}),1)],1),t.readonly?t._e():i("v-dialog",{attrs:{persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title"),i("v-card-text",[i("v-container",{attrs:{fluid:"","grid-list-lg":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Name",box:"",color:"blue",hint:"The name of the metric.","persistent-hint":""},model:{value:t.editingItem.name,callback:function(e){t.$set(t.editingItem,"name",e)},expression:"editingItem.name"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-radio-group",{attrs:{row:"",color:"#f00",label:"Is Visible",hint:"Sets the visibility of the metric.","persistent-hint":""},model:{value:t.editingItem.isVisible,callback:function(e){t.$set(t.editingItem,"isVisible",e)},expression:"editingItem.isVisible"}},[i("Radio",{attrs:{isChecked:1==t.editingItem.isVisible},on:{"toggle-checked":function(e){t.editingItem.isVisible=!0}}},[t._v("Yes")]),i("Radio",{attrs:{isChecked:0==t.editingItem.isVisible},on:{"toggle-checked":function(e){t.editingItem.isVisible=!1}}},[t._v("No")])],1)],1),i("v-flex",{attrs:{xs12:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Font Size")]),i("v-slider",{attrs:{"thumb-label":"always",color:"blue",ticks:"always",step:"1",min:"4",max:"64","tick-size":"2"},model:{value:t.editingItem.fontSize,callback:function(e){t.$set(t.editingItem,"fontSize",e)},expression:"editingItem.fontSize"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-subheader",{staticClass:"pl-0 mb-5"},[t._v("Font Weight")]),i("v-slider",{ref:"fontWeight",attrs:{"thumb-label":"always",color:"blue",ticks:"always",step:"1",min:"0",max:"2","tick-size":"6","thumb-size":"45","tick-labels":t.fontWeightText},model:{value:t.editingItem.fontWeight,callback:function(e){t.$set(t.editingItem,"fontWeight",e)},expression:"editingItem.fontWeight"}})],1),i("v-flex",{attrs:{xs9:"","py-3":"","offset-sm2":""}},[i("v-container",[i("v-layout",{attrs:{row:""}},[i("v-flex",{attrs:{xs4:""}},[i("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":"","px-2":""}},[i("h2",{staticClass:"font-weight-thin"},[t._v("Background Color")]),i("sketch-picker",{model:{value:t.editingItem.backgroundColor,callback:function(e){t.$set(t.editingItem,"backgroundColor",e)},expression:"editingItem.backgroundColor"}})],1)],1),i("v-flex",{attrs:{xs4:""}},[i("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":"","px-2":""}},[i("h2",{staticClass:"font-weight-thin"},[t._v("Font Color")]),i("sketch-picker",{model:{value:t.editingItem.color,callback:function(e){t.$set(t.editingItem,"color",e)},expression:"editingItem.color"}})],1)],1),i("v-flex",{attrs:{xs4:"","px-2":""}},[i("h2",{staticClass:"font-weight-thin"},[t._v("Preview")]),i("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[i("v-flex",{class:t.previewClasses},[i("v-card",{staticClass:"list-item",staticStyle:{position:"relative"},style:{"background-color":t.getRgbaString(t.editingItem.backgroundColor.rgba)},attrs:{"px-2":""}},[i("v-container",{style:{padding:"5px"},attrs:{"grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[i("v-flex",{staticClass:"item-title",style:{"font-size":t.editingItem.fontSize+"px","font-weight":t.fontWeightValues[t.editingItem.fontWeight],color:t.getRgbaString(t.editingItem.color.rgba)}},[t._v(t._s(t.editingItem.count))]),i("v-flex",{staticClass:"item-title",style:{"font-size":t.editingItem.fontSize+"px","font-weight":t.fontWeightValues[t.editingItem.fontWeight],color:t.getRgbaString(t.editingItem.color.rgba)}},[t._v(t._s(t.editingItem.name))])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"red",ripple:!1},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{flat:"",color:"blue",ripple:!1},on:{click:t.saveItem}},[t._v("Save")])],1)],1)],1)],1)},_=[],I=i("9434"),L=i.n(I),M=i("ea7a"),S=i.n(M),O=i("59a9"),D=i.n(O),N=i("ab18"),W=i.n(N),F=i("bfc0"),j=i.n(F),z=i("eabe"),P=i.n(z),T=i("d15c"),V=i.n(T),E=i("44bb"),$=i.n(E),R=i("c516"),B=i.n(R),A=i("7675"),H=i.n(A),U=i("c345"),q=i("f2ef"),Y={components:{AddIcon:L.a,CloseIcon:S.a,LeftArrowIcon:W.a,RightArrowIcon:j.a,EditIcon:P.a,DeleteIcon:V.a,VisibilityIcon:$.a,VisibilityOffIcon:B.a,AppsIcon:D.a,LoadingIcon:H.a,"sketch-picker":U["Sketch"],Radio:k},props:{disabled:Boolean,isLoading:Boolean,columnWidth:{type:Number,default:function(){return 3}},transition:{type:Boolean,default:function(){return!0}},fieldMap:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{ID:0,hasFiltering:!1,isDocumentLibrary:!1,hasDynamicWidth:!1,hasFilterDetection:!1,fileObjectType:0,minColumnWidth:3,openInNewWindow:!0,listName:"",siteUrl:"",fieldName:"",filterViewName:"",metrics:[]}}},readonly:Boolean,initialItems:{type:Array,default:function(){return[]}}},computed:{buttonClasses:function(){var t={};return t["xs"+(this.columnWidth<3?"6":"4")]=!0,t},classes:function(){var t={};return t["xs"+this.columnWidth]=!0,t},previewClasses:function(){var t={},e=4*this.columnWidth;return t["xs"+(e<12?e:12)]=!0,t},sortedItems:function(){var t,e=[];if(this.readonly)for(t=0;t<this.items.length;t++)this.items[t].isVisible&&e.push(this.items[t]);else e=this.items;return e.slice().sort(function(t,e){return t.sortOrder-e.sortOrder})}},watch:{fieldMap:{handler:function(t){console.log(t)},deep:!0},editingItem:{handler:function(t){this.$refs.fontWeight.$el.querySelector(".v-slider__thumb-label").innerHTML="<span>"+this.fontWeightText[t.fontWeight]+"</span>"},deep:!0},initialItems:function(t){this.initItems(t)}},data:function(){return{items:[],direction:"bottom",fab:!1,keyIndexer:0,fontWeightText:["normal","bold","boldest"],fontWeightValues:["normal","bold","900"],fling:!1,hover:!0,tabs:null,top:!0,right:!0,dialog:!1,editingItem:{name:"",count:0,backgroundColor:{hex:"#ffffff",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:255,g:255,b:255,a:1},a:1},color:{hex:"#000000",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:0,g:0,b:0,a:1},a:1},fontSize:20,fontWeight:0,sortOrder:0,isVisible:!0},bottom:!1,left:!1}},methods:{getItemHref:function(t){return this.config.hasFiltering&&!t.fab&&this.config.filterViewName&&this.fieldMap[this.config.fieldName]&&this.fieldMap[this.config.fieldName].StaticName&&this.config.fieldName&&this.config.siteUrl&&Object.keys(this.fieldMap).length>0&&this.fieldMap[Object.keys(this.fieldMap)[0]].hasOwnProperty("Scope")?this.fieldMap[Object.keys(this.fieldMap)[0]].Scope+"/"+(""!=this.config.filterViewName?this.config.filterViewName+".aspx":"")+"?FilterField1="+this.fieldMap[this.config.fieldName].StaticName+"&FilterValue1="+t.name+"#FilterField1%3D"+this.fieldMap[this.config.fieldName].StaticName+"-FilterValue1%3D"+t.name:void 0},getRgbaString:function(t){return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},addItem:function(t){var e=(new Date).toISOString(),i={name:this.items.length,count:0,sortOrder:this.items.length,isVisible:!0,created:e,fab:!1,key:this.keyIndexer,backgroundColor:{hex:"#ffffff",hsl:{h:255,s:255,l:255,a:1},hsv:{h:255,s:255,v:255,a:1},rgba:{r:255,g:255,b:255,a:1},a:1},color:{hex:"#000000",hsl:{h:0,s:0,l:0,a:1},hsv:{h:0,s:0,v:0,a:1},rgba:{r:0,g:0,b:0,a:1},a:1},fontSize:20,fontWeight:0,isHoveringOver:!1},a=q["a"].defaults(t,i);this.items.push(a),this.keyIndexer++},saveItem:function(){var t=this.sortedItems[this.editingItem.sortOrder];Object.assign(t,this.editingItem),this.dialog=!1,this.$emit("update",this.sortedItems)},toggleVisible:function(t){t.isVisible=!t.isVisible,this.$emit("update",this.sortedItems)},deleteItem:function(t){var e,i=this.items.indexOf(t),a=t.sortOrder;for(this.$delete(this.items,i),e=a;e<this.sortedItems.length;e++)this.sortedItems[e].sortOrder=this.sortedItems[e].sortOrder-1;this.$emit("update",this.sortedItems)},moveRight:function(t){var e=t.sortOrder;this.sortedItems[t.sortOrder+1].sortOrder=e,t.sortOrder++,this.$emit("update",this.sortedItems)},moveLeft:function(t){var e=t.sortOrder;this.sortedItems[t.sortOrder-1].sortOrder=e,t.sortOrder--,this.$emit("update",this.sortedItems)},initItems:function(t){var e,i={};for(e=0;e<this.items.length;e++)i[this.items[e].name]=this.items[e];for(this.items=[],e=0;e<t.length;e++)this.addItem(t[e])}},mounted:function(){this.initItems(this.initialItems)}},G=Y,X=(i("fb21"),Object(w["a"])(G,C,_,!1,null,"170dd8dc",null));X.options.__file="EditableBlockList.vue";var J,Q,K=X.exports,Z=i("c390"),tt=i.n(Z),et=i("bc3a"),it=i.n(et),at={methods:{getMetricData:function(t,e){var i,a,n,s,o,r={},l="",c="",d=null,f=null,g={},h={};if(this.config.hasFilterDetection&&this.state_map.filters.hasFilters)for(i in r=this.state_map.filters.filterMap,r)if(c="",this.state_map.fields.displayMap.hasOwnProperty(i))for(g=this.state_map.fields.displayMap[i],h=this.state_map.fields.schemaMap[i],a=0;a<r[i].length;a++)s=r[i][a],"DateTime"==g.TypeAsString&&(d=new Date(decodeURIComponent(s)),f=new Date(d),f.setDate(f.getDate()+1)),g.hasOwnProperty(i)&&(c.length>0&&(c+=" or "),"DateTime"!=g.TypeAsString?(c+="startswith("+g.StaticName,g.hasOwnProperty("LookupField")&&(c+="/"+g.LookupField),c+=",","Number"==h.Type&&h.hasOwnProperty("Decimals")?(o=new RegExp("^(\\d*).(\\d{"+h.Decimals+"})(\\d*)$"),c+=s.replace(o,"$1.$2")):c+=s,c+=")"):c+=g.StaticName+" ge datetime'"+d.toISOString()+"' and "+g.StaticName+" le datetime'"+f.toISOString()+"'"),l+=(l.length>0?" and ":"")+"("+c+")";return n=this.config.siteUrl+"/_api/web/lists/GetByTitle('"+this.config.listName+"')/Items?$select=Title,EncodedAbsUrl,"+this.state_map.fields.displayMap[this.config.fieldName].InternalName+(this.state_map.fields.displayMap[this.config.fieldName].hasOwnProperty("LookupField")?"/"+this.state_map.fields.displayMap[this.config.fieldName].LookupField+"&$expand="+this.state_map.fields.displayMap[this.config.fieldName].InternalName:"")+(this.state_map.filters.hasFilters?"&$filter="+l+(this.config.isDocumentLibrary?(l.length>0?" and ":"")+"FSObjType eq "+this.config.fileObjectType:""):this.config.isDocumentLibrary?"&$filter=(FSObjType eq "+this.config.fileObjectType+")":"")+"&$top=5000",it()({url:n,method:"get",headers:{accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose"}}).then(function(e){var i=e.data.d.results;t&&t(i)}).catch(function(t){e&&e(t)})},getConfigData:function(t,e){return it()({url:this.siteUrl+"/_api/web/lists/GetByTitle('MetricsConfig')/Items?$filter=(startswith(Title,'"+window.location.pathname+"')"+(this.isInWebPart?" and startswith(webPartId, '"+this.webPartId+"')":"")+")",method:"get",headers:{accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose"}}).then(function(e){var i=e.data.d.results;t&&t(i)}).catch(function(t){e&&e(t)})},saveConfigData:function(t,e){var i=this.configListName,a=this.siteUrl,n=a+"/_api/web/lists/GetByTitle('"+i+"')"+(this.config.ID>0?"/items("+this.config.ID+")":"/Items"),s=this.getItemTypeForListName(i),o={Title:window.location.pathname};this.isInWebPart&&(o.webPartId=this.webPartId);var r={accept:"application/json;odata=verbose","X-RequestDigest":t,"content-Type":"application/json;odata=verbose"};return this.config.ID>0&&q["a"].extend(r,{"IF-MATCH":"*","X-HTTP-Method":"MERGE"}),q["a"].extend(o,this.config,{__metadata:{type:s}}),o.metrics=JSON.stringify(this.config.metrics),delete o.ID,it()({url:n,method:"post",headers:r,data:o}).then(function(t){var i=t.data.hasOwnProperty("d")?t.data.d:JSON.parse(t.config.data);e&&e(i)})},getListFields:function(t,e){return it()({url:this.config.siteUrl+"/_api/web/lists/GetByTitle('"+this.config.listName+"')/Fields?$filter=Hidden eq false",method:"get",headers:{accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose"}}).then(function(e){var i=e.data.d.results;t&&t(i)}).catch(function(t){e&&e(t)})},getDigest:function(t,e){return it()({url:this.siteUrl+"/_api/contextinfo",method:"post",headers:{Accept:"application/json; odata=verbose"}}).then(function(e){var i=e.data.d.GetContextWebInformation.FormDigestValue;t&&t(i)}).catch(function(t){e&&e(t)})},getItemTypeForListName:function(t){return"SP.Data."+t.charAt(0).toUpperCase()+t.split(" ").join("").slice(1)+"ListItem"},parseQuery:function(t){for(var e={},i=("#"===t[0]?t.substr(1):t).split("&"),a=0;a<i.length;a++){var n=i[a].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return e},updateHash:function(t){var e,i="";for(e in t)i+=(i.length>0?"&":"")+e+"="+t[e];window.location.hash=i}}},nt=at,st=Object(w["a"])(nt,J,Q,!1,null,null,null);st.options.__file="Data.vue";var ot=st.exports,rt={components:{dropdownIcon:f.a,LoadingIcon:H.a,Radio:k,EditableBlockList:K,LeftArrowIcon:W.a,RightArrowIcon:j.a,EditIcon:P.a,ErrorIcon:tt.a,DeleteIcon:V.a,VisibilityIcon:$.a,VisibilityOffIcon:B.a,AppsIcon:D.a},mixins:[ot],props:{isInWebPart:{type:Boolean,default:function(){return!1}},webPartId:{type:String,default:function(){return""}},siteUrl:{type:String,default:function(){return""}},fieldMap:{type:Object,default:function(){return{}}},configListName:{type:String,default:function(){return""}},isLoading:Boolean,initConfig:{type:Object,default:function(){return{ID:0,hasFiltering:!1,isDocumentLibrary:!1,hasDynamicWidth:!1,hasFilterDetection:!1,fileObjectType:0,minColumnWidth:3,openInNewWindow:!0,listName:"",siteUrl:"",fieldName:"",filterViewName:"",metrics:[]}}}},watch:{minColumnWidth:function(){this.$refs.minColumnWidth.blur()},initConfig:{handler:function(t){this.isConfigDataLoaded||(this.config=Object.assign({},this.config,t)),t.ID>0&&(this.isConfigDataLoaded=!0),this.config.metrics=Object.assign([],this.config.metrics,t.metrics)},deep:!0},loading:function(t){this.isLoading=t}},data:function(){return{valid:!0,columnWidthItems:[1,2,3,4,6,12],isSaving:!1,isColumnWidthSelected:!1,hasError:!1,error:null,config:{ID:0,minColumnWidth:3,listName:"",fieldName:"",siteUrl:"",fileObjectType:0,hasDynamicWidth:!1,hasFiltering:!1,hasFilterDetection:!1,isDocumentLibrary:!1,openInNewWindow:!1,metrics:{}},isConfigDataLoaded:!1,columnWidthHint:"<blockquote>\n                      Grid columns are created by specifying a number that is a factor of\n                      <kbd>12</kbd> available columns you wish to span. For example, column width of\n                      <kbd>3</kbd> will create\n                      <kbd>4</kbd> items in that row. I.e.,\n                      <kbd>12 / 3 = 4</kbd>, so all availble column widths are factors of\n                      <kbd>12</kbd>.\n                    </blockquote>"}},methods:{updateMetrics:function(t){this.config.metrics=Object.assign([],t)},save:function(){this.isSaving=!0,this.hasError=!1,this.error=null,function(t){new Promise(function(e,i){t.getDigest(function(t){e(t)},function(e){t.hasError=!0,t.error=e,console.log(e),i(e)})}).then(function(e){return new Promise(function(i,a){console.log("populate metrics -- pre-save: ",t.config.metrics),t.saveConfigData(e,function(e){t.isConfigDataLoaded=!0,e.hasOwnProperty("ID")&&(t.config.ID=e.ID),console.log(e),t.$emit("config-saved",e),console.log("populate metrics -- post-save: ",t.config.metrics),i(e)},function(e){t.hasError=!0,t.error=e,a(e)})})}).then(function(){t.isSaving=!1}).catch(function(e){t.isSaving=!1,t.hasError=!0,t.error=e,console.log(e)})}(this)}},created:function(){}},lt=rt,ct=(i("1e79"),Object(w["a"])(lt,l,c,!1,null,null,null));ct.options.__file="Config.vue";var dt=ct.exports,ft={components:{Config:dt,EditableBlockList:K,LoadingIcon:H.a},mixins:[ot],data:function(){return{isInWebPart:!1,webPartId:"",configListName:"MetricsConfig",siteUrl:"",isEditing:!1,testing:!1,initFieldMap:{},items:[],state_map:{isFiltered:!1,listUrl:"",saving:{issaving:!1,message:"",messageTitle:"",isError:!1,isSuccess:!1,showMessage:!1},generating:{isgenerating:!1,message:"",messageTitle:"",isError:!1,isSuccess:!1,showMessage:!1},loading:{canCancel:!1,canClose:!1,showLoading:!0,message:"",isLoading:!0},fields:{staticMap:{},displayMap:{},schemaMap:{}},filters:{filterMap:{},hasFilters:!1}},metricsMap:{},config:{ID:0,hasFiltering:!1,isDocumentLibrary:!1,hasDynamicWidth:!1,hasFilterDetection:!1,fileObjectType:0,minColumnWidth:3,openInNewWindow:!0,listName:"",siteUrl:"",fieldName:"",filterViewName:"",metrics:[]}}},watch:{isEditing:function(){this.getData()},state_map:{handler:function(t){this.initFieldMap=Object.assign({},this.initFieldMap,t.fields.displayMap)},deep:!0}},methods:{checkEditMode:function(){var t=t||{},e=window.MSOWebPartPageFormName||"";this.isEditing=!1;try{t.Ribbon.PageState.Handlers.isPublishEnabled(),this.isEditing=t.Ribbon.PageState.Handlers.isInEditMode()}catch(a){var i=window.document.forms.hasOwnProperty(e)&&"1"==window.document.forms[e].MSOLayout_InDesignMode.value;this.isEditing=i||window.location.hash.indexOf("edit")>-1}},onHashChange:function(){this.checkEditMode()},toggleLoading:function(t){t=q["a"].defaults(t,{isLoading:!1,showLoading:!1,message:"",canCancel:!1,canClose:!1}),Object.assign(this.state_map.loading,t)},populateMetrics:function(t){var e,i,a,n=this.state_map.fields.displayMap[this.config.fieldName].StaticName,s=this.state_map.fields.displayMap[this.config.fieldName],o=s.hasOwnProperty("LookupField"),r=o?s.LookupField:"",l=[];for(this.metricsMap={},console.log("populate metrics -- pre: ",this.config.metrics),e=0;e<t.length;e++)i=o?t[e][n][r]:t[e][n],this.metricsMap[i]=this.metricsMap[i]||{name:i,count:0},this.metricsMap[i].count++;for(e=0;e<this.config.metrics.length;e++)this.metricsMap.hasOwnProperty(this.config.metrics[e].name)&&(this.config.metrics[e].count=this.metricsMap[this.config.metrics[e].name].count,this.metricsMap[this.config.metrics[e].name].isProcessed=!0);for(a in this.metricsMap)this.metricsMap[a].isProcessed||(l.push({name:a,count:this.metricsMap[a].count,backgroundColor:{hex:"#ffffff",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:255,g:255,b:255,a:1},a:1},color:{hex:"#000000",hsl:{h:150,s:.5,l:.2,a:1},hsv:{h:150,s:.66,v:.3,a:1},rgba:{r:0,g:0,b:0,a:1},a:1},fontSize:20,fontWeight:0,sortOrder:0,isVisible:!0}),console.log("new metric -",l[l.length-1]));this.config.metrics=Object.assign([],this.config.metrics,l),console.log("populate metrics -- post: ",this.config.metrics)},initConfig:function(t){t.length>0&&(t=t[0]),t.metrics=JSON.parse(t.metrics);var e=q["a"].pick(t,q["a"].keys(this.config));this.config=Object.assign({},this.config,e),this.config.metrics=Object.assign([],e.metrics),console.log("metrics init: ",e.metrics)},getData:function(){this.toggleLoading({isLoading:!0,message:""}),function(t){new Promise(function(e){t.getConfigData(function(i){t.initConfig(i),e()},function(e){t.toggleLoading({isLoading:!1,message:e.message,canCancel:!1,canClose:!0})})}).then(function(){return new Promise(function(e){t.testing?e():t.config.ID>0?t.getListFields(function(i){var a,n;i.length>0&&(a=i.reduce(function(t,e){return t[e.StaticName]=e,t},{}),n=i.reduce(function(t,e){return t[e.Title]=e,t},{}),t.state_map.fields.staticMap=Object.assign({},t.state_map.fields.staticMap,a),t.state_map.fields.displayMap=Object.assign({},t.state_map.fields.displayMap,n)),e()},function(e){t.toggleLoading({isLoading:!1,message:e.message,canCancel:!1,canClose:!0})}):e()})}).then(function(){return new Promise(function(e){t.config.ID>0&&!t.config.hasFilterDetection?t.getMetrics(function(){e()},function(){}):t.testing?(t.populateMetrics([]),e()):e()})}).then(function(){t.configFetched=t.config.ID>0,Object.keys(t.metrics).length>0||t.isEditing?t.toggleLoading({isLoading:!1,message:"",canCancel:!1,canClose:!1}):t.toggleLoading({isLoading:!1,message:"No Data Available",canCancel:!1,canClose:!1})}).catch(function(e){t.toggleLoading({isLoading:!1,message:e.message,canCancel:!1,canClose:!1})})}(this)},getMetrics:function(t,e){(function(i){i.getMetricData(function(e){i.populateMetrics(e),t&&t()},function(t){i.toggleLoading({isLoading:!1,message:t.message,canCancel:!1,canClose:!0}),e&&e(t)})})(this)},checkForWebPart:function(){var t,e=this.$root.$el,i=3;for(t=0;t<i;t++)if(e=e.parentElement,this.isInWebPart=null!=e&&e.hasAttribute("webpartid"),this.isInWebPart||null==e)break;this.isInWebPart&&(this.webPartId=e.getAttribute("webpartid"))}},mounted:function(){window.addEventListener("hashchange",this.onHashChange),this.onHashChange()},created:function(){this.checkEditMode(),this.checkForWebPart(),this.getData()}},gt=ft,ht=(i("be8f"),i("b0a0"),Object(w["a"])(gt,o,r,!1,null,"299d49e8",null));ht.options.__file="App.vue";var pt=ht.exports,ut=i("2f62");a["default"].use(ut["a"]);var mt=new ut["a"].Store({state:{},mutations:{},actions:{}});a["default"].config.productionTip=!1,a["default"].use(s.a);var vt=document.getElementsByClassName("sp-metrics"),bt=!0,xt=!1,wt=void 0;try{for(var yt,kt=vt[Symbol.iterator]();!(bt=(yt=kt.next()).done);bt=!0){var Ct=yt.value;new a["default"]({el:Ct,store:mt,render:function(t){return t(pt)}})}}catch(_t){xt=!0,wt=_t}finally{try{bt||null==kt.return||kt.return()}finally{if(xt)throw wt}}},"59a9":function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}})])}}},6025:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}})])}}},6112:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".application--wrap{min-height:auto!important}.application{background:transparent!important}html{box-sizing:inherit!important;overflow-y:inherit!important}*,:after,:before{box-sizing:content-box}#app *,#app :after,#app :before{box-sizing:border-box!important}",""])},7675:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6a5.87 5.87 0 0 1-2.8-.7l-1.46 1.46A7.93 7.93 0 0 0 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0 0 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}})])}}},"7ad3":function(t,e,i){"use strict";var a=i("848d"),n=i.n(a);n.a},"7eb5":function(t,e,i){var a=i("6112");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("19a78525",a,!0,{sourceMap:!1,shadowMode:!1})},"848d":function(t,e,i){var a=i("3b18");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("076fde90",a,!0,{sourceMap:!1,shadowMode:!1})},9374:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"#app[data-v-299d49e8]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}#nav[data-v-299d49e8]{padding:30px}#nav a[data-v-299d49e8]{font-weight:700;color:#2c3e50}#nav a.router-link-exact-active[data-v-299d49e8]{color:#42b983}.icon[data-v-299d49e8]{width:25px;height:25px;fill:#fff}.large-icon[data-v-299d49e8]{width:70px;height:70px}.loading-icon[data-v-299d49e8]{fill:rgba(0,0,0,.61);margin-right:8px;-webkit-animation:spin-data-v-299d49e8 1s ease-in-out infinite;animation:spin-data-v-299d49e8 1s ease-in-out infinite}#loading-title[data-v-299d49e8]{text-transform:uppercase;font-family:Roboto,sans-serif;display:inline-block;margin:0!important}@-webkit-keyframes spin-data-v-299d49e8{to{-webkit-transform:rotate(-1turn)}}@keyframes spin-data-v-299d49e8{to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}*[data-v-299d49e8],[data-v-299d49e8]:after,[data-v-299d49e8]:before{box-sizing:border-box!important}",""])},9434:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}})])}}},ab18:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])}}},b0a0:function(t,e,i){"use strict";var a=i("7eb5"),n=i.n(a);n.a},b584:function(t,e,i){var a=i("9374");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("7b67e9c2",a,!0,{sourceMap:!1,shadowMode:!1})},be8f:function(t,e,i){"use strict";var a=i("b584"),n=i.n(a);n.a},bfc0:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}})])}}},c390:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}})])}}},c516:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}})])}}},d15c:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}})])}}},e2ff:function(t,e,i){var a=i("3536");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("21b49919",a,!0,{sourceMap:!1,shadowMode:!1})},e9f7:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M7 10l5 5 5-5z"}})])}}},ea7a:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])}}},eabe:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}})])}}},f1e7:function(module,exports){module.exports={render:function anonymous(){with(this)return _c("svg",{attrs:{viewBox:"0 0 24 24"}},[_c("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}})])}}},fb21:function(t,e,i){"use strict";var a=i("e2ff"),n=i.n(a);n.a}});
//# sourceMappingURL=app.js.map